# time based announcements
# 1h
execute if score -timer bafkTimer matches 72000 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "one","color": "red"},{"text": " hour!","color": "gray"}]
execute if score -timer bafkTimer matches 72000 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 30min
execute if score -timer bafkTimer matches 36000 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "30","color": "red"},{"text": " minutes!","color": "gray"}]
execute if score -timer bafkTimer matches 36000 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 20min
execute if score -timer bafkTimer matches 24000 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "20","color": "red"},{"text": " minutes!","color": "gray"}]
execute if score -timer bafkTimer matches 24000 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 10min
execute if score -timer bafkTimer matches 12000 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "10","color": "red"},{"text": " minutes!","color": "gray"}]
execute if score -timer bafkTimer matches 12000 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 5min
execute if score -timer bafkTimer matches 6000 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "5","color": "red"},{"text": " minutes!","color": "gray"}]
execute if score -timer bafkTimer matches 6000 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 3min
execute if score -timer bafkTimer matches 3600 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "3","color": "red"},{"text": " minutes!","color": "gray"}]
execute if score -timer bafkTimer matches 3600 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 2min
execute if score -timer bafkTimer matches 2400 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "2","color": "red"},{"text": " minutes!","color": "gray"}]
execute if score -timer bafkTimer matches 2400 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 1min
execute if score -timer bafkTimer matches 1200 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "one","color": "red"},{"text": " minute!","color": "gray"}]
execute if score -timer bafkTimer matches 1200 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 1
# 30s
execute if score -timer bafkTimer matches 600 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "30","color": "red"},{"text": " seconds!","color": "gray"}]
execute if score -timer bafkTimer matches 600 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 1
# 20s
execute if score -timer bafkTimer matches 400 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "20","color": "red"},{"text": " seconds!","color": "gray"}]
execute if score -timer bafkTimer matches 400 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 0.5
# 10s
execute if score -timer bafkTimer matches 200 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "10","color": "red"},{"text": " seconds!","color": "gray"}]
execute if score -timer bafkTimer matches 200 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 1
# 5s
execute if score -timer bafkTimer matches 100 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "5","color": "red"},{"text": " seconds!","color": "gray"}]
execute if score -timer bafkTimer matches 100 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 1.2
# 4s
execute if score -timer bafkTimer matches 80 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "4","color": "red"},{"text": " seconds!","color": "gray"}]
execute if score -timer bafkTimer matches 80 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 1.4
# 3s
execute if score -timer bafkTimer matches 60 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "3","color": "red"},{"text": " seconds!","color": "gray"}]
execute if score -timer bafkTimer matches 60 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 1.6
# 2s
execute if score -timer bafkTimer matches 40 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "2","color": "red"},{"text": " seconds!","color": "gray"}]
execute if score -timer bafkTimer matches 40 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 1.8
# 1s
execute if score -timer bafkTimer matches 20 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start in ","color":"gray"},{"text": "one","color": "red"},{"text": " second!","color": "gray"}]
execute if score -timer bafkTimer matches 20 run playsound minecraft:block.note_block.chime master @a -53 82 -650 1 2
# 0s
execute if score -timer bafkTimer matches 1 run tellraw @a ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"] ","color":"gold"},{"text":"Start","color":"red"},{"text":"!","color":"gray"}]
execute if score -timer bafkTimer matches 1 run playsound minecraft:entity.firework_rocket.launch master @a -53 82 -650 1 1

# time based commands
# title configuration
execute if score -timer bafkTimer matches 60.. if score -timer bafkTimer matches ..1200 if score -converterSec bafkTimer matches 0 run title @a title {"text":"-","color":"gray"}
execute if score -timer bafkTimer matches 60.. if score -timer bafkTimer matches ..1200 if score -converterSec bafkTimer matches 5 run title @a title {"text":"\\","color":"gray"}
execute if score -timer bafkTimer matches 60.. if score -timer bafkTimer matches ..1200 if score -converterSec bafkTimer matches 10 run title @a title {"text":"|","color":"gray"}
execute if score -timer bafkTimer matches 60.. if score -timer bafkTimer matches ..1200 if score -converterSec bafkTimer matches 15 run title @a title {"text":"/","color":"gray"}

# 55s
execute if score -timer bafkTimer matches 1100 run worldborder center -53 -650
execute if score -timer bafkTimer matches 1100 run title @a subtitle {"text": "centering worldborder","color": "blue"}
# 52s
execute if score -timer bafkTimer matches 1040 run setworldspawn -53 82 -650
execute if score -timer bafkTimer matches 1040 run title @a subtitle {"text": "setting worldspawn","color": "blue"}
# 49s
execute if score -timer bafkTimer matches 980 run clear @a
execute if score -timer bafkTimer matches 980 run title @a subtitle {"text": "removing items","color": "blue"}
# 46s
execute if score -timer bafkTimer matches 920 run xp set @a 0 levels
execute if score -timer bafkTimer matches 920 run xp set @a 0 points
execute if score -timer bafkTimer matches 920 run title @a subtitle {"text": "resetting xp","color": "blue"}
# 43s
execute if score -timer bafkTimer matches 860 run advancement revoke @a everything
execute if score -timer bafkTimer matches 860 run recipe take @a *
execute if score -timer bafkTimer matches 860 run title @a subtitle {"text": "revoking achievements and recipes","color": "blue"}
# 40s
execute if score -timer bafkTimer matches 800 run time set day
execute if score -timer bafkTimer matches 800 run weather clear 
execute if score -timer bafkTimer matches 800 run title @a subtitle {"text": "setting time and weather","color": "blue"}
# 37s
execute if score -timer bafkTimer matches 740 run gamerule doWeatherCycle true
execute if score -timer bafkTimer matches 740 run title @a subtitle {"text": "naturalizing weather","color": "blue"}
# 34s
execute if score -timer bafkTimer matches 680 run gamerule doDaylightCycle true
execute if score -timer bafkTimer matches 680 run title @a subtitle {"text": "naturalizing time","color": "blue"}
# 31s
execute if score -timer bafkTimer matches 620 run gamemode survival @a
execute if score -timer bafkTimer matches 620 run title @a subtitle {"text": "setting everybody's gamemode","color": "blue"}
# 28s
execute if score -timer bafkTimer matches 560 run give @a cooked_beef 5
execute if score -timer bafkTimer matches 560 run title @a subtitle {"text": "distributing food","color": "blue"}
# 25s
execute if score -timer bafkTimer matches 500 run spawnpoint @a -53 82 -650
execute if score -timer bafkTimer matches 500 run title @a subtitle {"text": "setting individual spawnpoints","color": "blue"}
# 22s
execute if score -timer bafkTimer matches 440 run gamerule doMobSpawning true
execute if score -timer bafkTimer matches 440 run title @a subtitle {"text": "allowing mobs to spawn","color": "blue"}
# 19s
execute if score -timer bafkTimer matches 380 run scoreboard objectives setdisplay list bafkHealth
execute if score -timer bafkTimer matches 380 run title @a subtitle {"text": "setting up health scoreboard","color": "blue"}
# 16s
execute if score -timer bafkTimer matches 320 run scoreboard objectives setdisplay belowName bafkDeaths
execute if score -timer bafkTimer matches 320 run title @a subtitle {"text": "setting up deathcount scoreboard","color": "blue"}
# 13s
execute if score -timer bafkTimer matches 260 run effect clear @a saturation
execute if score -timer bafkTimer matches 260 run title @a subtitle {"text": "removing saturation","color": "blue"}
# 10s
execute if score -timer bafkTimer matches 200 run difficulty hard
execute if score -timer bafkTimer matches 200 run title @a subtitle {"text": "resetting difficulty","color": "blue"}
# 8s
execute if score -timer bafkTimer matches 160 run worldborder warning distance 5
execute if score -timer bafkTimer matches 160 run title @a subtitle {"text": "restoring worldborder warning distance","color": "blue"}
# 6s
execute if score -timer bafkTimer matches 120 run title @a subtitle {"text": "preparing for launch","color": "blue"}
# 3s 
execute if score -timer bafkTimer matches 60 run title @a subtitle {"text": "","color": "blue"}
# 0s
execute if score -timer bafkTimer matches 1 run worldborder set 30000000 2000000
execute if score -timer bafkTimer matches 1 run effect clear @a
execute if score -timer bafkTimer matches 1 run title @a times 60 260 80
execute if score -timer bafkTimer matches 1 run title @a title {"text":"Welcome","color":"yellow"}
execute if score -timer bafkTimer matches 1 run title @a subtitle {"text":"to my Minecraft-Project","color": "gold"}
execute if score -timer bafkTimer matches 1 run playsound entity.ender_dragon.death master @a
execute if score -timer bafkTimer matches 1 run tellraw @s ["",{"text":"[","color":"gold"},{"text":"Project","color":"blue"},{"text":"]","color":"gold"},{"text":" Start was successful","color":"gray"}]

# count down (and other stuff)
execute if score -timer bafkTimer matches 1.. run scoreboard players remove -timer bafkTimer 1

# convert and count Seconds
execute if score -timer bafkTimer matches 1.. run scoreboard players add -converterSec bafkTimer 1
execute if score -converterSec bafkTimer matches 20.. run scoreboard players remove -remainderSec bafkTimer 1
execute if score -converterSec bafkTimer matches 20.. run scoreboard players remove -minRemainderSec bafkTimer 1
execute if score -minRemainderSec bafkTimer matches ..0 run scoreboard players set -minRemainderSec bafkTimer 60
execute if score -converterSec bafkTimer matches 20.. run scoreboard players set -converterSec bafkTimer 0

# convert and count Minutes and Seconds
execute if score -timer bafkTimer matches 1.. run scoreboard players add -converterMin bafkTimer 1
execute if score -converterMin bafkTimer matches 1200.. run scoreboard players remove -remainderMin bafkTimer 1
execute if score -converterMin bafkTimer matches 1200.. run scoreboard players set -converterMin bafkTimer 0

# reexecute function
execute if score -timer bafkTimer matches 1.. run schedule function internal:timer 1t

# stop function and delete scoreboard
execute if score -timer bafkTimer matches ..0 run schedule clear internal:timer
execute if score -timer bafkTimer matches ..0 run scoreboard objectives remove bafkTimer

# show the remaining time in the actionbar
execute if score -remainderMin bafkTimer matches 1.. run title @a actionbar ["",{"text":"|","obfuscated":true,"color":"red"},{"text":" Start in","color":"blue"},{"text":":","color":"gray"},{"text":" ","color":"gold"},{"score":{"name":"-remainderMin","objective":"bafkTimer"},"color":"gold"},{"text":"m ","color":"gray"},{"score":{"name":"-minRemainderSec","objective":"bafkTimer"},"color":"gold"},{"text":"s","color":"gray"},{"text":" |","obfuscated":true,"color":"red"}]
execute if score -remainderSec bafkTimer matches ..60 run title @a actionbar ["",{"text":"|","obfuscated":true,"color":"red"},{"text":" Start in","color":"blue"},{"text":":","color":"gray"},{"text":" ","color":"gold"},{"score":{"name":"-remainderSec","objective":"bafkTimer"},"color":"gold"},{"text":" seconds ","color":"gray"},{"text":"|","obfuscated":true,"color":"red"}]
